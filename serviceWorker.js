let version='2.4.3';let staticCache=`staticCache-${version}`;const assets=['/', '/assets/img/favicon.png'];self.addEventListener('install',(event)=>{event.waitUntil(caches.open(staticCache).then(cache=>cache.addAll(assets)).then(self.skipWaiting()))});self.addEventListener('activate',(event)=>{event.waitUntil(caches.keys().then(keys=>{return Promise.all(keys.filter(key=>key!==staticCache).map(key=>caches.delete(key)))}))});self.addEventListener('fetch',(event)=>{if(event.request.method!=='GET'){return};const fetchFromServer=()=>{return fetch(event.request).then(fetchResponse=>handleFetchResponse(fetchResponse,event))};const handleFetchResponse=(fetchResponse,event)=>{const type=fetchResponse.headers.get('content-type');if(type===null||type===undefined)return fetchResponse;return caches.open(staticCache).then(cache=>{cache.put(event.request,fetchResponse.clone());return fetchResponse})};event.respondWith(caches.match(event.request).then(cached=>cached||fetchFromServer()))})